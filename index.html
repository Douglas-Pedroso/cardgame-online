<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Card Game Online - Multiplayer</title>
    
    <!-- CSS -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/cards.css">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=MedievalSharp&family=Cinzel:wght@400;700&family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Tela de Menu -->
    <div id="menuScreen" class="screen active">
        <div class="menu-container">
            <h1 class="game-title">ðŸŽ´ Card Game Online</h1>
            <p class="game-subtitle">Jogo de Cartas Multiplayer</p>
            
            <div class="menu-buttons">
                <button class="btn btn-primary" onclick="showCreateGame()">
                    <i class="fas fa-plus"></i> Criar Sala
                </button>
                <button class="btn btn-secondary" onclick="showJoinGame()">
                    <i class="fas fa-sign-in-alt"></i> Entrar na Sala
                </button>
            </div>
            
            <div class="menu-info">
                <p><i class="fas fa-info-circle"></i> Para 2 jogadores</p>
                <p><i class="fas fa-wifi"></i> Requer conexÃ£o com internet</p>
            </div>
        </div>
    </div>

    <!-- Tela de Criar Sala -->
    <div id="createGameScreen" class="screen">
        <div class="setup-container">
            <button class="btn-back" onclick="showMenu()">
                <i class="fas fa-arrow-left"></i> Voltar
            </button>
            
            <h2>Criar Nova Sala</h2>
            
            <div class="input-group">
                <label for="playerName">Seu Nome:</label>
                <input type="text" id="playerName" placeholder="Digite seu nome" maxlength="20">
            </div>
            
            <div class="deck-selection">
                <h3>Escolha seu Deck:</h3>
                <div class="deck-grid" id="deckGridCreate"></div>
            </div>
            
            <button class="btn btn-primary btn-large" onclick="createGame()">
                <i class="fas fa-gamepad"></i> Criar Sala
            </button>
        </div>
    </div>

    <!-- Tela de Entrar na Sala -->
    <div id="joinGameScreen" class="screen">
        <div class="setup-container">
            <button class="btn-back" onclick="showMenu()">
                <i class="fas fa-arrow-left"></i> Voltar
            </button>
            
            <h2>Entrar na Sala</h2>
            
            <div class="input-group">
                <label for="roomCode">CÃ³digo da Sala:</label>
                <input type="text" id="roomCode" placeholder="Ex: ABC123" maxlength="6">
            </div>
            
            <div class="input-group">
                <label for="playerName2">Seu Nome:</label>
                <input type="text" id="playerName2" placeholder="Digite seu nome" maxlength="20">
            </div>
            
            <div class="deck-selection">
                <h3>Escolha seu Deck:</h3>
                <div class="deck-grid" id="deckGridJoin"></div>
            </div>
            
            <button class="btn btn-primary btn-large" onclick="joinGame()">
                <i class="fas fa-sign-in-alt"></i> Entrar na Sala
            </button>
        </div>
    </div>

    <!-- Tela de Espera -->
    <div id="waitingScreen" class="screen">
        <div class="waiting-container">
            <div class="spinner"></div>
            <h2>Aguardando Oponente...</h2>
            <div class="room-code-display">
                <p>CÃ³digo da Sala:</p>
                <div class="code-box" id="roomCodeDisplay"></div>
                <button class="btn btn-small" onclick="copyRoomCode()">
                    <i class="fas fa-copy"></i> Copiar CÃ³digo
                </button>
            </div>
            <p class="waiting-info">Compartilhe o cÃ³digo com seu amigo!</p>
        </div>
    </div>

    <!-- Tela de Pedra, Papel, Tesoura -->
    <div id="rpsScreen" class="screen">
        <div class="rps-container">
            <h2>Quem ComeÃ§a?</h2>
            <p class="rps-subtitle">Pedra, Papel ou Tesoura!</p>
            
            <div class="rps-choices">
                <button class="rps-btn" onclick="makeRPSChoice('rock')">
                    <i class="fas fa-hand-rock"></i>
                    <span>Pedra</span>
                </button>
                <button class="rps-btn" onclick="makeRPSChoice('paper')">
                    <i class="fas fa-hand-paper"></i>
                    <span>Papel</span>
                </button>
                <button class="rps-btn" onclick="makeRPSChoice('scissors')">
                    <i class="fas fa-hand-scissors"></i>
                    <span>Tesoura</span>
                </button>
            </div>
            
            <div id="rpsWaiting" class="rps-waiting hidden">
                <div class="spinner-small"></div>
                <p>Aguardando escolha do oponente...</p>
            </div>
            
            <div id="rpsResult" class="rps-result hidden"></div>
        </div>
    </div>

    <!-- Tela do Jogo -->
    <div id="gameScreen" class="screen">
        <!-- Header do Jogo -->
        <div class="game-header">
            <div class="player-info">
                <span class="player-name" id="opponentName">Oponente</span>
                <span class="player-deck" id="opponentDeck"></span>
            </div>
            
            <div class="game-status">
                <div class="turn-indicator" id="turnIndicator">
                    <i class="fas fa-hourglass-half"></i>
                    <span id="turnText">Seu Turno</span>
                </div>
                <div class="room-info">
                    Sala: <span id="currentRoomCode"></span>
                </div>
            </div>
            
            <div class="player-info">
                <span class="player-name" id="playerNameDisplay">VocÃª</span>
                <span class="player-deck" id="playerDeckDisplay"></span>
            </div>
        </div>

        <!-- Zona do Oponente -->
        <div class="game-zone opponent-zone">
            <div class="zone-row">
                <div class="zone deck-zone" onclick="viewOpponentDeck()">
                    <div class="zone-label">Deck Oponente</div>
                    <div class="zone-content" id="opponentDeckZone">
                        <div class="card-back"></div>
                        <span class="card-count" id="opponentDeckCount">20</span>
                    </div>
                </div>
                
                <div class="zone hand-zone">
                    <div class="zone-label">MÃ£o Oponente</div>
                    <div class="zone-content" id="opponentHand"></div>
                </div>
                
                <div class="zone banished-zone" onclick="viewOpponentBanished()">
                    <div class="zone-label">Banido Oponente</div>
                    <div class="zone-content" id="opponentBanished">
                        <span class="card-count" id="opponentBanishedCount">0</span>
                    </div>
                </div>
            </div>
            
            <div class="field-zone">
                <div class="zone-label">Campo Oponente</div>
                <div class="field-slots" id="opponentField">
                    <div class="field-slot" data-slot="0"></div>
                    <div class="field-slot" data-slot="1"></div>
                    <div class="field-slot" data-slot="2"></div>
                    <div class="field-slot" data-slot="3"></div>
                </div>
            </div>
        </div>

        <!-- Zona do Jogador -->
        <div class="game-zone player-zone">
            <div class="field-zone">
                <div class="zone-label">Seu Campo</div>
                <div class="field-slots" id="playerField">
                    <div class="field-slot" data-slot="0"></div>
                    <div class="field-slot" data-slot="1"></div>
                    <div class="field-slot" data-slot="2"></div>
                    <div class="field-slot" data-slot="3"></div>
                </div>
            </div>
            
            <div class="zone-row">
                <div class="zone deck-zone" onclick="viewPlayerDeck()">
                    <div class="zone-label">Seu Deck</div>
                    <div class="zone-content" id="playerDeckZone">
                        <div class="card-back"></div>
                        <span class="card-count" id="playerDeckCount">20</span>
                    </div>
                </div>
                
                <div class="zone hand-zone">
                    <div class="zone-label">Sua MÃ£o</div>
                    <div class="zone-content" id="playerHand"></div>
                </div>
                
                <div class="zone banished-zone" onclick="viewPlayerBanished()">
                    <div class="zone-label">Seu Banido</div>
                    <div class="zone-content" id="playerBanished">
                        <span class="card-count" id="playerBanishedCount">0</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Controles do Jogo -->
        <div class="game-controls">
            <button class="btn btn-action" onclick="endTurn()">
                <i class="fas fa-forward"></i> Passar Turno
            </button>
            <button class="btn btn-danger" onclick="surrender()">
                <i class="fas fa-flag"></i> Render-se
            </button>
        </div>

        <!-- Log de AÃ§Ãµes -->
        <div class="action-log">
            <div class="log-header">
                <i class="fas fa-list"></i> Log de AÃ§Ãµes
                <button class="btn-close-log" onclick="toggleLog()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="log-content" id="logContent"></div>
        </div>
        
        <button class="btn-toggle-log" onclick="toggleLog()">
            <i class="fas fa-list"></i>
        </button>
    </div>

    <!-- Modal de VisualizaÃ§Ã£o de Cards -->
    <div id="cardViewModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">Cartas</h3>
                <button class="btn-close-modal" onclick="closeCardModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body" id="modalCardList"></div>
        </div>
    </div>

    <!-- Socket.IO para comunicaÃ§Ã£o em tempo real -->
    <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
    
    <!-- Scripts do Jogo -->
    <script src="js/decks.js"></script>
    <script src="js/api-handler.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/game.js"></script>
</body>
</html>